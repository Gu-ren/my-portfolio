import React, { useEffect,useRef } from "react";
import heroBackground from "../assets/heroBackground.png";
import profile from "../assets/profile.png";

const Hero = ({ contentsRef }) => {
  const heroSectionRef = useRef(null);

  useEffect(() => {
    const observer = new IntersectionObserver(
      ([entry]) => {
        if (!entry.isIntersecting) {
          // Hero is out of view (scrolled up) â†’ scroll to contents
          contentsRef.current?.scrollIntoView({ behavior: "smooth" });
        }
      },
      {
        threshold: 0.5, // 50% out of view
      }
    );

    if (heroSectionRef.current) {
      observer.observe(heroSectionRef.current);
    }

    return () => {
      if (heroSectionRef.current) {
        observer.unobserve(heroSectionRef.current);
      }
    };
  }, [contentsRef]);

  return (
    <div
    ref={heroSectionRef}
      className="h-screen w-screen bg-cover bg-center relative "
      style={{ backgroundImage: `url(${heroBackground})` }}
    >
      <div className=" flex flex-col  justify-center text-white py-8 px-16 ">
        <div className="flex justify-between w-full z-50">
          <a
            href="https://drive.google.com/uc?export=download&id=1YlaJPVb8omcZdsnfEsmmW4-lkiqZmkEz"
            target="_blank"
            rel="noopener noreferrer"
          >
            <div
              className="px-6 py-2 bg-white text-[#383535] rounded-full cursor-pointer shadow transition-all duration-300 ease-in-out hover:underline "
              role="button"
              data-aos="fade-right"
            >
              Download CV
            </div>
          </a>

          <div className=" text-md text-white self-center" data-aos="fade-left">
            ASSOCIATE SOFTWARE ENGINEER 
          </div>
        </div>
        <div className="my-16 text-white w-full" data-aos="fade-right">
          <svg
            width="1329"
            height="451"
            viewBox="0 0 1329 451"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M5.0863 447V392.199L84.9253 150.32H16.4244V99.7713H140.198V150.32L58.9422 396.451H140.198V447H5.0863ZM141.571 447L194.01 99.7713H256.369L308.808 447H259.204L249.756 376.137H200.624L191.175 447H141.571ZM207.71 322.281H242.669L228.024 205.593L226.607 187.169H223.772L222.355 205.593L207.71 322.281ZM321.645 447V99.7713H373.611C391.248 99.7713 406.444 102.921 419.199 109.22C432.112 115.361 442.033 125.046 448.962 138.274C456.048 151.501 459.591 168.587 459.591 189.531C459.591 206.223 457.387 220.79 452.977 233.23C448.726 245.67 440.38 255.827 427.939 263.701C440.537 270.63 449.592 281.653 455.103 296.77C460.615 311.73 463.371 329.052 463.371 348.737C463.371 368.106 460.221 385.192 453.922 399.994C447.781 414.797 438.647 426.371 426.522 434.717C414.554 442.906 399.751 447 382.114 447H321.645ZM372.666 396.451C388.098 396.451 398.255 391.884 403.137 382.751C408.019 373.46 410.46 360.232 410.46 343.068C410.46 325.588 408.019 312.36 403.137 303.384C398.255 294.251 388.098 289.684 372.666 289.684V396.451ZM372.666 242.915C386.996 242.915 396.838 238.978 402.192 231.104C407.704 223.23 410.46 211.577 410.46 196.145C410.46 180.555 407.625 169.06 401.956 161.658C396.444 154.1 386.681 150.32 372.666 150.32V242.915ZM468.925 447L521.364 99.7713H583.723L636.162 447H586.558L577.109 376.137H527.978L518.529 447H468.925ZM535.064 322.281H570.023L555.378 205.593L553.961 187.169H551.126L549.709 205.593L535.064 322.281ZM648.998 447V99.7713H700.02V399.758H767.576V447H648.998ZM774.153 447V99.7713H825.174V399.758H892.73V447H774.153ZM899.307 447V99.7713H1016V152.21H950.329V245.749H997.571V296.77H950.329V394.561H1016V447H899.307ZM1039.69 447V99.7713H1090.71C1121.26 99.7713 1143.78 108.275 1158.26 125.282C1172.75 142.132 1179.99 167.012 1179.99 199.924C1179.99 219.451 1176.53 236.379 1169.6 250.709C1162.83 264.882 1154.56 275.275 1144.8 281.889L1179.52 447H1128.5L1099.68 300.55H1090.71V447H1039.69ZM1090.71 253.308C1100.16 253.308 1107.64 251.261 1113.15 247.166C1118.66 242.915 1122.6 236.931 1124.96 229.214C1127.32 221.498 1128.5 212.365 1128.5 201.814C1128.5 185.279 1125.75 172.603 1120.23 163.784C1114.88 154.808 1105.04 150.32 1090.71 150.32V253.308ZM1260.03 450.779C1245.86 450.779 1233.66 447.472 1223.42 440.859C1213.34 434.245 1205.55 425.269 1200.04 413.931C1194.68 402.593 1192 389.837 1192 375.665V171.107C1192 156.777 1194.68 144.021 1200.04 132.841C1205.55 121.503 1213.34 112.527 1223.42 105.913C1233.66 99.2989 1245.86 95.9919 1260.03 95.9919C1274.21 95.9919 1286.33 99.2989 1296.41 105.913C1306.65 112.527 1314.44 121.503 1319.79 132.841C1325.31 144.179 1328.06 156.934 1328.06 171.107V375.665C1328.06 389.837 1325.31 402.593 1319.79 413.931C1314.44 425.269 1306.65 434.245 1296.41 440.859C1286.33 447.472 1274.21 450.779 1260.03 450.779ZM1260.03 401.175C1266.33 401.175 1270.74 398.577 1273.26 393.38C1275.78 388.026 1277.04 382.121 1277.04 375.665V171.107C1277.04 164.65 1275.7 158.824 1273.02 153.627C1270.35 148.273 1266.02 145.596 1260.03 145.596C1254.21 145.596 1249.88 148.273 1247.04 153.627C1244.36 158.824 1243.03 164.65 1243.03 171.107V375.665C1243.03 382.121 1244.36 388.026 1247.04 393.38C1249.72 398.577 1254.05 401.175 1260.03 401.175Z"
              fill="white"
            />
            <path
              d="M40.24 18.6C39.2267 16.7333 37.76 15.32 35.84 14.36C33.9733 13.3467 31.76 12.84 29.2 12.84C24.7733 12.84 21.2267 14.3067 18.56 17.24C15.8933 20.12 14.56 23.9867 14.56 28.84C14.56 34.0133 15.9467 38.0667 18.72 41C21.5467 43.88 25.4133 45.32 30.32 45.32C33.68 45.32 36.5067 44.4667 38.8 42.76C41.1467 41.0533 42.8533 38.6 43.92 35.4H26.56V25.32H56.32V38.04C55.3067 41.4533 53.5733 44.6267 51.12 47.56C48.72 50.4933 45.6533 52.8667 41.92 54.68C38.1867 56.4933 33.9733 57.4 29.28 57.4C23.7333 57.4 18.7733 56.2 14.4 53.8C10.08 51.3467 6.69333 47.96 4.24 43.64C1.84 39.32 0.64 34.3867 0.64 28.84C0.64 23.2933 1.84 18.36 4.24 14.04C6.69333 9.66667 10.08 6.28 14.4 3.88C18.72 1.42666 23.6533 0.199997 29.2 0.199997C35.92 0.199997 41.5733 1.82666 46.16 5.08C50.8 8.33333 53.8667 12.84 55.36 18.6H40.24ZM75.1775 46.44H93.0975V57H61.4975V0.839998H75.1775V46.44ZM110.902 11.8V23.16H129.222V33.72H110.902V46.04H131.622V57H97.2225V0.839998H131.622V11.8H110.902ZM188.344 57H174.664L151.784 22.36V57H138.104V0.839998H151.784L174.664 35.64V0.839998H188.344V57ZM246.1 57H232.42L209.54 22.36V57H195.86V0.839998H209.54L232.42 35.64V0.839998H246.1V57Z"
              fill="white"
            />
          </svg>
        </div>
        <div
          className="absolute inset-0 flex items-center justify-center z-10"
          data-aos="fade-up"
        >
          <img src={profile} alt="Profile" className="mt-33 shadow-lg" />
        </div>

        <div className="w-100  " data-aos="fade-up">
          A full-stack software engineer with a passion for developing
          end-to-end solutions and collaborating with teams to deliver impactful
          and scalable applications.
        </div>
      </div>
    </div>
  );
};

export default Hero;
